---

- name: create voctogui config
  template: src=voctogui-config.ini.j2
            dest=/opt/voctomix/voctogui-config.ini
            mode=0644 owner=root group=root

- name: create voctogui systemd-unit
  template: src=voctogui.service.j2
            dest=/etc/systemd/system/voctomix-voctogui.service
            mode=0644 owner=root group=root

- name: reload systemd daemon
  command: systemctl daemon-reload
  changed_when: false

- name: enable & start voctogui service
  service: name=voctomix-voctogui
           enabled=yes
           state=started
  when: voctogui_enabled is defined

- name: disable & stop voctogui service
  service: name=voctomix-voctogui
           enabled=no
           state=stopped
  when: voctogui_enabled is not defined
